(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{283:function(t,e,a){var r=a(342);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,a(6).default)("83607f3e",r,!1,{sourceMap:!1})},284:function(t,e,a){var r=a(344);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,a(6).default)("10b3aada",r,!1,{sourceMap:!1})},341:function(t,e,a){"use strict";var r=a(283);a.n(r).a},342:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".WrappRecordEdit .content{display:grid;grid-template-rows:auto auto auto auto;grid-gap:1rem}.WrappRecordEdit .content input{width:calc(100% - 4px -.4rem);padding:.2rem}",""])},343:function(t,e,a){"use strict";var r=a(284);a.n(r).a},344:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,"#content[data-v-24487fe0]{display:grid;grid-gap:1rem}",""])},363:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"WrappRecordEdit"},[a("card",{attrs:{save:t.close,back:"Page/"+t.pathPage+"/"+t.pathCategory,title:"",clings:""}},[t._v("Добавить запись")]),t._v(" "),a("card",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.Record.Title,expression:"Record.Title"}],attrs:{type:"text"},domProps:{value:t.Record.Title},on:{input:function(e){e.target.composing||t.$set(t.Record,"Title",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.Record.Path,expression:"Record.Path"}],attrs:{type:"text"},domProps:{value:t.Record.Path},on:{input:function(e){e.target.composing||t.$set(t.Record,"Path",e.target.value)}}}),t._v(" "),a("no-ssr",{attrs:{placeholder:"Редактор загружается..."}},[a("textarea",{attrs:{id:"EditorSmall"}})]),t._v(" "),a("no-ssr",{attrs:{placeholder:"Редактор загружается..."}},[a("textarea",{attrs:{id:"EditorFull"}})])],1)],1)};r._withStripped=!0;var i=a(13),n=a.n(i),o=a(0),s=a.n(o),c=a(1),l=a.n(c),u={name:"Record-Add",layout:"document",computed:{pathPage:function(){return this.$route.params.PathPage},pathCategory:function(){return this.$route.params.PathCategory},Category:function(){return this.$store.getters.Category(this.pathCategory)}},asyncData:function(t){t.app,t.params,t.store,t.route;return{Record:{Info:"",Text:"",Path:"new-record",Title:"Новая запись",idCategory:null},EditorSmall:{},EditorFull:{}}},mounted:function(){var t=l()(s.a.mark(function t(){var e;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$nextTick();case 2:e=this,this.EditorSmall=tinymce.init({selector:"#EditorSmall",menubar:!1,height:250,plugins:["advlist autolink lists link image charmap print preview anchor textcolor","searchreplace visualblocks code fullscreen","insertdatetime media table contextmenu paste code help wordcount"],toolbar:"insert | undo redo |  formatselect | bold italic backcolor  | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | image | help",images_upload_url:"/api/Img/Upload",images_upload_base_path:"/img",init_instance_callback:function(t){t.on("change",function(t){e.Record.Info=tinymce.get("EditorSmall").getContent()})}}),this.EditorFull=tinymce.init({selector:"#EditorFull",height:400,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor textcolor","searchreplace visualblocks code fullscreen","insertdatetime media table contextmenu paste code help wordcount"],toolbar:"insert | undo redo |  formatselect | bold italic backcolor  | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | image | help",images_upload_url:"/api/Img/Upload",images_upload_base_path:"/img",init_instance_callback:function(t){t.on("change",function(t){e.Record.Text=tinymce.get("EditorFull").getContent()})}});case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),beforeDestroy:function(){tinymce.remove()},methods:{close:function(){var t=l()(s.a.mark(function t(){var e;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Record.idCategory=this.Category.id,t.next=3,this.$store.dispatch("NEW_RECORD",this.Record);case 3:1==(e=t.sent)?this.$router.push("/Page/"+this.pathPage+"/"+this.pathCategory):alert(e.message+" "+n()(e.info));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},d=(a(341),a(343),a(2)),p=Object(d.a)(u,r,[],!1,null,"24487fe0",null);e.default=p.exports}}]);